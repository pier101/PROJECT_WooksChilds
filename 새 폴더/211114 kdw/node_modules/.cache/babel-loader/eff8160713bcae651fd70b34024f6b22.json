{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ME\\\\Documents\\\\\\uCE74\\uCE74\\uC624\\uD1A1 \\uBC1B\\uC740 \\uD30C\\uC77C\\\\\\uC0C8 \\uD3F4\\uB354\\\\211114 kdw\\\\src\\\\page\\\\list.js\";\nimport React, { Component } from \"react\";\nimport \"./main.css\";\nimport { Link, Route } from \"react-router-dom\";\nimport queryString from \"query-string\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass list extends Component {\n  constructor(props) {\n    super(props);\n\n    this._getListData = async function () {\n      const {\n        limit\n      } = this.state;\n\n      const page = this._setPage(); // Board 테이블 데이터 전체 수\n\n\n      const total_cnt = await axios(\"/board/get/board_cnt\"); // 데이터 가져오기\n\n      const total_list = await axios(\"/board/get/board\", {\n        method: \"POST\",\n        headers: new Headers(),\n        data: {\n          limit: limit,\n          page: page\n        }\n      }); // 전체 페이지 수 구하기\n\n      let page_arr = [];\n\n      for (let i = 1; i <= Math.ceil(total_cnt.data.cnt / limit); i++) {\n        page_arr.push(i);\n      }\n\n      this.setState({\n        data: total_list,\n        all_page: page_arr\n      });\n    };\n\n    this._changePage = function (el) {\n      this.setState({\n        page: el\n      });\n      sessionStorage.setItem(\"page\", el);\n      return this._getListData();\n    };\n\n    this._setPage = function () {\n      if (sessionStorage.page) {\n        this.setState({\n          page: Number(sessionStorage.page)\n        });\n        return Number(sessionStorage.page);\n      }\n\n      this.setState({\n        page: 1\n      });\n      return 1;\n    };\n\n    this.state = {\n      data: [],\n      page: 1,\n      limit: 10,\n      all_page: []\n    };\n  }\n\n  componentWillMount() {\n    this._getListData();\n\n    this._setPage();\n  }\n\n  render() {\n    const list = this.state.data.data;\n    const {\n      all_page,\n      page\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"List\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"acenter\",\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/board\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\" \", /*#__PURE__*/_jsxDEV(Link, {\n            className: \"link_tit\",\n            to: \"/board\",\n            children: [\" \", \"\\uC11C\\uBE44\\uC2A4 \\uACF5\\uC9C0\", \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 10\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"list_grid list_tit\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: \" \\uC81C\\uBAA9 \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \" \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"acenter\",\n          children: \" \\uB0A0\\uC9DC \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), list && list.length > 0 ? list.map((el, key) => {\n        const view_url = '/board/view/' + el.board_id;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"list_grid list_data\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\" \", /*#__PURE__*/_jsxDEV(Link, {\n              to: view_url,\n              children: [\" \", el.title, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 25\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \" \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"acenter\",\n            children: [\" \", el.date.slice(0, 10), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 19\n          }, this)]\n        }, key, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 17\n        }, this);\n      }) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"paging_div\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: \" \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: all_page ? all_page.map((el, key) => {\n              return el === page ? /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"page_num\",\n                children: [\" \", /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: [\" \", el, \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 25\n                }, this), \" \"]\n              }, key, true, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"page_num\",\n                onClick: () => this._changePage(el),\n                children: [\" \", el, \" \"]\n              }, key, true, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 23\n              }, this);\n            }) : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header_grid\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header_write\",\n          children: /*#__PURE__*/_jsxDEV(\"h5\", {\n            children: [\" \", /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/board/write\",\n              children: \" \\uAE00\\uC4F0\\uAE30 \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 13\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default list;","map":{"version":3,"sources":["C:/Users/ME/Documents/카카오톡 받은 파일/새 폴더/211114 kdw/src/page/list.js"],"names":["React","Component","Link","Route","queryString","axios","list","constructor","props","_getListData","limit","state","page","_setPage","total_cnt","total_list","method","headers","Headers","data","page_arr","i","Math","ceil","cnt","push","setState","all_page","_changePage","el","sessionStorage","setItem","Number","componentWillMount","render","length","map","key","view_url","board_id","title","date","slice"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./main.css\";\n\nimport {  Link,Route } from \"react-router-dom\";\nimport queryString from \"query-string\";\n\nimport axios from \"axios\";\n\nclass list extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      page: 1,\n      limit: 10,\n      all_page: [],\n    };\n  }\n\n  componentWillMount() {\n    this._getListData();\n    this._setPage();\n  }\n\n  _getListData = async function () {\n    const { limit } = this.state;\n    const page = this._setPage();\n\n    // Board 테이블 데이터 전체 수\n    const total_cnt = await axios(\"/board/get/board_cnt\");\n\n    // 데이터 가져오기\n    const total_list = await axios(\"/board/get/board\", {\n      method: \"POST\",\n      headers: new Headers(),\n      data: { limit: limit, page: page },\n    });\n\n    // 전체 페이지 수 구하기\n    let page_arr = [];\n\n    for (let i = 1; i <= Math.ceil(total_cnt.data.cnt / limit); i++) {\n      page_arr.push(i);\n    }\n\n    this.setState({ data: total_list, all_page: page_arr });\n  };\n\n  _changePage = function (el) {\n    this.setState({ page: el });\n    sessionStorage.setItem(\"page\", el);\n\n    return this._getListData();\n  };\n\n  _setPage = function () {\n    if (sessionStorage.page) {\n      this.setState({ page: Number(sessionStorage.page) });\n      return Number(sessionStorage.page);\n    }\n\n    this.setState({ page: 1 });\n    return 1;\n  };\n\n  render() {\n    \n    const list = this.state.data.data;\n    const { all_page, page } = this.state;\n\n    return (\n      \n      <div className=\"List\">\n        <div className=\"acenter\">\n          <Route path=\"/board\" />\n         <h3>\n            {\" \"}\n            <Link className=\"link_tit\" to=\"/board\">\n              {\" \"}\n              서비스 공지{\" \"}\n            </Link>{\" \"}\n          </h3>\n          </div>\n        <div className=\"list_grid list_tit\">\n          \n          <div> 제목 </div>\n          <div> </div>\n          <div className=\"acenter\"> 날짜 </div>\n        </div>\n\n        {list && list.length > 0 ? list.map( (el, key) => {\n            const view_url = '/board/view/' + el.board_id;\n              return (\n                <div className=\"list_grid list_data\" key={key}>\n                  <div> <Link to={view_url}> {el.title} </Link> </div>\n                  <div> </div>\n                  <div className=\"acenter\"> {el.date.slice(0, 10)} </div>\n                </div>\n              );\n            })\n          : null}\n\n        <div className=\"paging_div\">\n          <div> </div>\n          <div>\n            <ul>\n              {all_page\n                ? all_page.map((el, key) => {\n                    return el === page ? (\n                      <li key={key} className=\"page_num\">\n                        {\" \"}\n                        <b> {el} </b>{\" \"}\n                      </li>\n                    ) : (\n                      <li key={key} className=\"page_num\" onClick={() => this._changePage(el)}>\n                        {\" \"}\n                        {el}{\" \"}\n                      </li>\n                    );\n                  })\n                : null}\n            </ul>\n          </div>\n       \n        </div>\n        <div className=\"header_grid\">\n        <div className=\"header_write\">\n          <h5>\n            {\" \"}\n            <Link to=\"/board/write\"> 글쓰기 </Link>{\" \"}\n          </h5>\n        </div>\n      </div>\n      </div>\n      \n    );\n  }\n}\n\nexport default list;\n"]},"metadata":{},"sourceType":"module"}